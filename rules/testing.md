---
paths:
  - "**/*.test.ts"
  - "**/*.spec.ts"
  - "tests/**"
  - "e2e/**"
  - "src/**/*.ts"
---

# 테스트 규칙

## TDD 필수
- 새 기능: 테스트 먼저 작성 → 실패 확인 → 구현 → 통과.
- 기존 코드 수정: 관련 테스트 확인 후 수정. 테스트 없으면 추가.
- 테스트 없는 프로덕션 코드 커밋 금지.

## 테스트 데이터
- 경계값 (0, 빈 문자열, null, 최대값).
- 정상값 (일반적인 입력).
- 에러 케이스 (잘못된 타입, 네트워크 실패, 권한 없음).

## 단위 테스트 (vitest)
- 함수/컴포넌트 단위로 격리 테스트.
- 외부 의존성은 mock 처리.
- 파일 위치: 소스 파일 옆 (`*.test.ts`) 또는 `tests/` 디렉토리.

## E2E 테스트 (Playwright)
- 주요 사용자 시나리오 커버.
- 파일 위치: `e2e/` 디렉토리.
- CI에서 실행 가능하도록 headless 모드.

## 커버리지
- 커버리지 하락 금지. 새 코드는 기존 수준 이상 유지.
- 커버리지 리포트: `npm run test:coverage`.
